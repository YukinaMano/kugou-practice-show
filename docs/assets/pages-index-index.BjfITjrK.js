import{_ as a,l,t as s,u as e,x as c,r as t,y as i,p as n,a as u,c as o,w as d,i as m,o as r,b as g,d as p,z as f,A,B as _,F as b,f as k,C as v,D as x,e as U,v as N,E as y,h,g as w,G as I}from"./index-xLs1lg9k.js";import{o as S}from"./uni-app.es.BX3S99Jr.js";const z=a({__name:"index",setup(a){l();const z=s("audio"),L=e(z.nowMusicInfo),E=c(z,"isPause"),R=c(z,"skipMode"),W=e({uid:"",avatarUrl:"/static/pic/index/avatar.png",nickname:"胡萝北",level:5,duration:15302});let C=t([{mTitle:"",mSinger:"",mPictureUrl:"",mMusicUrl:"",mLyricUrl:""}]);const P=t([0,0,0,0]),D=t(0),J=["switch_allloop","switch_random","switch_oneloop"],M=()=>{},j=async()=>{console.debug("[page to] 播放详情页"),y({url:"/pages/index/play"})},T=()=>{z.doToggle()},G=()=>{z.toNextMusic()},Z=()=>{z.doSwitchSkipMode()};i((()=>{z.onPlaying((()=>{D.value=z.getLoading()})),z.onMusicEnded((()=>{G()})),C.value=z._initDefaultMusic(),console.debug("组件挂载完成")})),S((()=>{console.debug("预加载子页面，预防白屏"),n({url:"pages/index/play"})}));const B=[{iconName:"localhost",iconUrl:"/static/pic/index/pc.png",title:"本地音乐"},{iconName:"like",iconUrl:"/static/pic/index/heart.png",title:"喜欢·歌单"},{iconName:"download",iconUrl:"/static/pic/index/download.png",title:"下载"},{iconName:"time",iconUrl:"/static/pic/index/time.png",title:"最近"}],F=[{iconName:"music",iconUrl:"/static/pic/index/note.png",bgc:"#06b062",title:"乐库"},{iconName:"musiclist",iconUrl:"/static/pic/index/work.png",bgc:"#067ab0",title:"歌单"},{iconName:"radio",iconUrl:"/static/pic/index/chart.png",bgc:"#e62134",title:"电台·酷群"},{iconName:"guess_like",iconUrl:"/static/pic/index/radio.png",bgc:"#c25bd1",title:"猜你喜欢"},{iconName:"recommendation",iconUrl:"/static/pic/index/chart.png",bgc:"#edb231",title:"每日推荐"},{iconName:"listen",iconUrl:"/static/pic/index/micro.png",bgc:"#4be22d",title:"听歌识曲"}];return(a,l)=>{const s=m,e=u("SvgIcon"),c=h,t=w;return r(),o(s,{class:"main"},{default:d((()=>[g(s,{class:"bg"}),g(s,{class:"status-bar"},{default:d((()=>[g(s,{class:"navigatebar"},{default:d((()=>[g(e,{class:"menu",name:"menu"}),g(s,null,{default:d((()=>[g(c,{class:"gri"},{default:d((()=>[p("听")])),_:1})])),_:1}),g(s,null,{default:d((()=>[g(c,null,{default:d((()=>[p("看")])),_:1})])),_:1}),g(s,null,{default:d((()=>[g(c,null,{default:d((()=>[p("唱")])),_:1})])),_:1}),g(e,{class:"search",name:"search"})])),_:1})])),_:1}),g(s,{class:"content"},{default:d((()=>[g(s,{class:"personal"},{default:d((()=>[g(t,{class:"avatar",src:W.avatarUrl,mode:"aspectFill"},null,8,["src"]),g(s,{class:"infor"},{default:d((()=>[g(s,{class:"up"},{default:d((()=>[g(c,{class:"nickname"},{default:d((()=>[p(f(W.nickname),1)])),_:1}),g(t,{class:"vip",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAAALFJREFUGJWlz0EKgkAUBuDf8UWaERq4MggvEQSt2nWEqIu06TBR0BHaRrTsEJFY0zwNwtDFzNARWvTd4AP+5Ww3u1Ecx/tOx0+NMW8AcF23V9f1VSmeUxSGqygKUyJCMkh62S1D1A/Bioda67VQzEul+Nw0DQDA933IhwRzcVGKF8Ia+8nzfFIU5aGqKgTdAGX5Ot7zx9gaWxK1CNCAlHImhHNqe14g78+pI4SlFv1efAHjNkyg5CGhHAAAAABJRU5ErkJggg=="})])),_:1}),g(s,{class:"down"},{default:d((()=>[g(s,{class:"level round-text"},{default:d((()=>[p("LV."+f(W.level),1)])),_:1}),g(c,{class:"duration"},{default:d((()=>[p("听歌"+f(W.duration)+"分钟",1)])),_:1})])),_:1})])),_:1})])),_:1}),g(s,{class:"my-music"},{default:d((()=>[l[0]||(I(-1),l[0]=(r(),A(b,null,_(B,((a,l)=>g(s,{class:"my-music-item",key:l,onClick:M},{default:d((()=>[g(e,{class:"icon",name:a.iconName},null,8,["name"]),g(c,{class:"alt"},{default:d((()=>[p(f(a.title),1)])),_:2},1024),g(c,{class:"num"},{default:d((()=>[p(f(P.value[l]),1)])),_:2},1024)])),_:2},1024))),64)),I(1),l[0])])),_:1}),g(s,{class:"all-music"},{default:d((()=>[l[1]||(I(-1),l[1]=(r(),A(b,null,_(F,((a,l)=>g(s,{class:"all-music-item",key:l},{default:d((()=>[g(s,{class:"icon-bg",style:x("background-color:"+a.bgc)},{default:d((()=>[g(e,{class:"icon",name:a.iconName},null,8,["name"])])),_:2},1032,["style"]),g(c,{class:"alt"},{default:d((()=>[p(f(a.title),1)])),_:2},1024)])),_:2},1024))),64)),I(1),l[1])])),_:1}),g(s,{class:"advitisement"},{default:d((()=>[g(s,{class:"left"},{default:d((()=>[g(e,{class:"icon",name:"broadcast"}),g(c,{class:"alt"},{default:d((()=>[p("推广")])),_:1})])),_:1}),g(s,{class:"report marquee"},{default:d((()=>[k("span",null,"装了这个app不用再去ktv")])),_:1})])),_:1}),g(s,{class:"tabbar"},{default:d((()=>[g(s,{class:"left"},{default:d((()=>[g(s,{onClick:j},{default:d((()=>[g(t,{class:v(["cover anplay",{anpause:E.value}]),src:L.mPictureUrl,mode:"aspectFill"},null,8,["class","src"])])),_:1})])),_:1}),g(s,{class:"right"},{default:d((()=>[g(s,{class:"up"},{default:d((()=>[g(s,{class:"loading"},{default:d((()=>[g(s,{class:"pass",style:x({width:D.value+"%"})},null,8,["style"]),g(s,{class:"in"})])),_:1})])),_:1}),g(s,{class:"down"},{default:d((()=>[g(s,{class:"information"},{default:d((()=>[g(c,{class:"m-name"},{default:d((()=>[p(f(L.mTitle),1)])),_:1}),g(c,{class:"m-singer"},{default:d((()=>[p(f(L.mSinger),1)])),_:1})])),_:1}),g(s,{class:"operation"},{default:d((()=>[g(s,{onClick:T},{default:d((()=>[U(g(e,{class:"icon",name:"play"},null,512),[[N,E.value]]),U(g(e,{class:"icon",name:"pause"},null,512),[[N,!E.value]])])),_:1}),g(s,{onClick:G},{default:d((()=>[g(e,{class:"icon",name:"stepnext"})])),_:1}),g(s,{onClick:Z},{default:d((()=>[g(e,{class:"icon",name:J[R.value]},null,8,["name"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-be0a638c"]]);export{z as default};
